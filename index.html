<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        fetch('data.json')
        .then(response => response.json())
        .then(data => {
            function filterProducts(products, query, priceRange, productName, productId) {
            return products.filter(product => {
                const price = parseFloat(product.productPrice);
                const isInRange = (!priceRange || (price >= priceRange[0] && price <= priceRange[1]));
                const matchesQuery = (
                (query === 'єсть на складе' && product.productStock) ||
                (query === 'нету' && !product.productStock) ||
                query === 'все'
                );
                const matchesProductName = (!productName || product.productName.includes(productName));
                const matchesProductId = (!productId || product.productId === productId);
                return matchesQuery && isInRange && matchesProductName && matchesProductId;
            });
            }

            const query = 'єсть на складе';  
            const priceRange = [1000, 3000];  
            const productName = 'Product 1'; 
            const productId = 1001; 
            const filteredProducts = filterProducts(data, query, priceRange, productName, productId);
            console.log(filteredProducts);
        })
        .catch(error => {
            console.error('Помилка зчитування файлу data.json: ' + error);
        });
    </script>
</body>
</html>
